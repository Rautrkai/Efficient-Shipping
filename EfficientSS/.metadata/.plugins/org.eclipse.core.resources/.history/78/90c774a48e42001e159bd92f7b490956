package com.app.EfficientSS.service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.rsocket.server.RSocketServer.Transport;
import org.springframework.stereotype.Service;

import com.app.EfficientSS.beans.Bidder;
import com.app.EfficientSS.beans.Customer;
import com.app.EfficientSS.beans.Item_Details;
import com.app.EfficientSS.beans.Transporter;
import com.app.EfficientSS.dao.BidderDao;
import com.app.EfficientSS.dao.CustomerDao;
import com.app.EfficientSS.dao.ItemDao;
import com.app.EfficientSS.dao.TransporterDao;

@Service
public class BidderServiceImpl implements BidderService {

	
	@Autowired
	private BidderDao  bdao;
	
	@Autowired
	private CustomerDao customerdao;
	
	@Autowired
	private ItemDao itemDao;
	@Autowired
    private TransporterDao tdao;

	@Override
	public Bidder setBidderNoAuction(long t_id, int item_id, int cust_id, double price) {
		
		Bidder bidder=new Bidder();
		Transporter trans=tdao.getById(t_id);
		Customer cust=customerdao.getById(cust_id);
		Item_Details item=itemDao.findByItemId(item_id);
		item.setOperation_status("Direct Booked");
		
		bidder.setB_name(trans.getT_full_name());
		bidder.setB_ph_no(trans.getT_ph_no());
		bidder.setB_price(price);												
		bidder.setB_selection_status("Selected");
		
		return null;
	}
}
